<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [LiveAnimation][1]
-   [LiveAnimation][2]
    -   [Parameters][3]
-   [GenericDataSource][4]
    -   [Parameters][5]
    -   [addKeyframe][6]
        -   [Parameters][7]
    -   [shiftTo][8]
        -   [Parameters][9]
-   [GenericKeyframeData][10]
    -   [Properties][11]
-   [TimeSeriesDataSource][12]
    -   [Parameters][13]
    -   [shiftTo][14]
        -   [Parameters][15]
-   [TimeSeriesVisualizationData][16]
    -   [Properties][17]
-   [TimeSeriesKeyframe][18]
    -   [Properties][19]
-   [dataSourceTypes][20]
    -   [Properties][21]
-   [AnimationDataAccess][22]
    -   [Parameters][23]
    -   [addKeyframe][24]
        -   [Parameters][25]
    -   [clearKeyframes][26]
    -   [shiftTo][27]
        -   [Parameters][28]
-   [Animation][29]
    -   [Parameters][30]
    -   [refresh][31]
        -   [Parameters][32]
    -   [play][33]
    -   [pause][34]
    -   [sendControlRequest][35]
        -   [Parameters][36]
    -   [fetchStatus][37]

## LiveAnimation

Defines [LiveAnimation][1] and compound components.

## LiveAnimation

**Extends Component**

Implements Live animation - animation of real-time data by synchronizing with
a [Master animation instance][38]. Is composed of [AnimationDataAccess][22] and [Animation][29].

### Parameters

-   `props` **[object][39]** 
    -   `props.animationId` **[string][40]** identifier of the MAI to synchronize
        with.
    -   `props.intervalSpanBefore` **moment.duration** Interval defining the
        span between the left boundary of the viewed interval and the playback
        position. ([moment.duration][41]) (optional, default `moment.duration(10,'m')`)
    -   `props.intervalSpanAfter` **moment.duration** Interval defining the
        span between the playback position and the right boundary of the viewed
        interval. ([moment.duration][41]) (optional, default `moment.duration(3,'m')`)
    -   `props.pollRate` **[number][42]** Number of milliseconds between
        subsequent polls of the MAI. (optional, default `1000`)
    -   `props.initialStatus` **[object][39]** Initial animation's state. (optional, default `{}`)
        -   `props.initialStatus.isPlaying` **[boolean][43]** `true` if the
            animation should start playing once initialized, `false` otherwise. (optional, default `false`)
    -   `props.dataSources` **[object][39]** Data sources' configuration to pass to
        [AnimationDataAccess][22].
        -   `props.dataSources.dataSourceKey` **[object][39]** Configuration of the
            Data source with the given key. Note: `dataSourceKey` only stands for the
            actual Data source's key. This object is passed to the constructor of the
            configured Data source's type as `config`.
            -   `props.dataSources.dataSourceKey.type` **[string][40]** Type of the Data
                source to configure. The types are keys of the [dataSourceTypes][20] constant.

## GenericDataSource

GenericDataSource represents the simplest form of a Data source. It generates
almost unprocessed data for current frame and optionally for past couple of
keyframes.

### Parameters

-   `config` **[object][39]** Configuration object of the Data source.
    -   `config.sigSets` **[Array][44]&lt;{cid: [string][40], signalCids: [Array][44]&lt;[string][40]>}>** Signal sets to be animated.
    -   `config.singnalAggs` **[Array][44]&lt;[string][40]>** Aggregation functions that should
        be animated for each signal. (optional, default `['avg']`)
    -   `config.interpolation` **{func: [function][45], arity: [number][42]}** Interpolation function to be used.
    -   `config.history` **[number][42]** Number of milliseconds worht of path keyframes to
        generate.
    -   `config.formatData` **[function][45]** Formats data before the Data source stores
        them. The function is given all the data MAI is generating
        (`animationStatus.data`), the result is stored as a keyframe.
-   `dataAccess` **[object][39]** 'Parent' instance of [AnimationDataAccess][22].

### addKeyframe

Adds new keyframe to the Data source's keyframe queue.

#### Parameters

-   `kf` **[object][39]** MAI's generated data (i.e. a keyframe).

### shiftTo

Generates visualization data.

#### Parameters

-   `ts` **[number][42]** Unix timestamp for which to generate visualization
    data.

Returns **([GenericKeyframeData][46] | {ts: [number][42], data: [GenericKeyframeData][46]})** Visualization data generated by the Data
source. Format of
visualization data depends on the `history` config. property.

## GenericKeyframeData

GenericDataSource's keyframe data. Note that the properties' names are
only descriptive and not the actual keys.

Type: [object][39]

### Properties

-   `signalSetCid` **[object][39]** Signals of the given signal set to be
    visualized.
    -   `signalSetCid.signalCid` **[object][39]** Aggragations of the given signal
        to be visualized.
        -   `signalSetCid.signalCid.aggFuncName` **[number][42]** Value of the given
            aggregation function to be visualized.

## TimeSeriesDataSource

**Extends GenericDataSource**

TimeSeriesDataSource manages data for components based on TimeBasedChartBase.

### Parameters

-   `config` **[object][39]** Configuration object of the Data source.
    -   `config.sigSets` **[Array][44]&lt;{cid: [string][40], signalCids: [Array][44]&lt;[string][40]>}>** Signal sets to be animated.
    -   `config.singnalAggs` **[Array][44]&lt;[string][40]>** Aggregation functions that should
        be animated for each signal. (optional, default `['avg']`)
    -   `config.interpolation` **{func: [function][45], arity: [number][42]}** Interpolation function to be used.
    -   `config.formatData` **[function][45]** Formats data before the Data source stores
        them. The function is given all the data MAI is generating
        (`animationStatus.data`), the result is stored as a keyframe.
-   `dataAccess` **[object][39]** 'Parent' instance of [AnimationDataAccess][22].

### shiftTo

Generates visualization data.

#### Parameters

-   `ts` **[number][42]** Unix timestamp for which to generate visualization
    data.

Returns **[TimeSeriesVisualizationData][47]** Visualization data generated by the Data
source.

## TimeSeriesVisualizationData

TimeSeriesDataSource's visualization data.

Type: [object][39]

### Properties

-   `signalSetCid` **[object][39]** Visualization data for the give signal set.
    Note: the property's name is only descriptive - not literal.
    -   `signalSetCid.prev` **[TimeSeriesKeyframe][48]** Data measured before the currently viewed
        interval.
    -   `signalSetCid.main` **[Array][44]&lt;[TimeSeriesKeyframe][48]>** Data measured inside the currently viewed
        interval.
    -   `signalSetCid.next` **[TimeSeriesKeyframe][48]** Data measured after the currently viewed
        interval.

## TimeSeriesKeyframe

TimeSeriesDataSource's keyframe data. Note that the properties' names are
only descriptive and not the actual keys.

Type: [object][39]

### Properties

-   `ts` **moment** Timestamp of the keyframe.
-   `signalCid` **[object][39]** Aggragations of the given signal
    to be visualized.
    -   `signalCid.aggFuncName` **[number][42]** Value of the given
        aggregation function to be visualized.

## dataSourceTypes

Defines available Data sources.

### Properties

-   `generic` **[object][39]** [GenericDataSource][4].
-   `timeSeries` **[object][39]** [TimeSeriesDataSource][12].

## AnimationDataAccess

**Extends Component**

Provides high-level data operations to [Animation][29].

### Parameters

-   `props` **[object][39]** 
    -   `props.dataSources` **[object][39]** Data sources' configuration.
        -   `props.dataSources.dataSourceKey` **[object][39]** Configuration of the
            Data source with the given key. Note: `dataSourceKey` only stands for the
            actual Data source's key. This object is passed to the constructor of the
            configured Data source's type as `config`.
            -   `props.dataSources.dataSourceKey.type` **[string][40]** Type of the Data
                source to configure. The types are keys of the [dataSourceTypes][20] constant.

### addKeyframe

Adds keyframe to animate.

#### Parameters

-   `kf` **[object][39]** MAI's generated data.

### clearKeyframes

Deletes all known keyframes.

### shiftTo

Updates the visualization data to the given timestamp.

#### Parameters

-   `ts` **[number][42]** Unix timestamp of the next frame.

## Animation

**Extends Component**

Manages Live animation. Provides:
[AnimationDataContext][49],
[AnimationStatusContext][50],
[AnimationControlContext][51],

### Parameters

-   `props` **[object][39]** 
    -   `props.animationId` **[string][40]** identifier of the MAI to synchronize
        with.
    -   `props.intervalSpanBefore` **moment.duration** Interval defining the
        span between the left boundary of the viewed interval and the playback
        position. ([moment.duration][41])
    -   `props.intervalSpanAfter` **moment.duration** Interval defining the
        span between the playback position and the right boundary of the viewed
        interval. ([moment.duration][41])
    -   `props.pollRate` **[number][42]** Number of milliseconds between
        subsequent polls of the MAI.
    -   `props.initialStatus` **[object][39]** Initial animation's state.
        -   `props.initialStatus.isPlaying` **[boolean][43]** `true` if the
            animation should start playing once initialized, `false` otherwise.
    -   `props.addKeyframe` **[function][45]** Adds keyframe to animate.
    -   `props.clearKeyframes` **[function][45]** Clears existing animated keyframes.
    -   `props.shiftTo` **[function][45]** Obtains visualization data for a given timestamp.
    -   `props.getEmptyData` **[function][45]** Obtains empty visualization data.

### refresh

The update-draw cycle of the animation.

#### Parameters

-   `elapsedTs` **DOMHighResTimeStamp** The timestamp of the next
    repaint.

### play

Implements the `play` control function.

### pause

Implements the `pause` control function.

### sendControlRequest

Forwards requests to the MAI.

#### Parameters

-   `controlName` **[string][40]** Name of the control. Ex.: 'play' or 'pause.

### fetchStatus

Requests and then processes MAI's animation state.

[1]: #liveanimation

[2]: #liveanimation-1

[3]: #parameters

[4]: #genericdatasource

[5]: #parameters-1

[6]: #addkeyframe

[7]: #parameters-2

[8]: #shiftto

[9]: #parameters-3

[10]: #generickeyframedata

[11]: #properties

[12]: #timeseriesdatasource

[13]: #parameters-4

[14]: #shiftto-1

[15]: #parameters-5

[16]: #timeseriesvisualizationdata

[17]: #properties-1

[18]: #timeserieskeyframe

[19]: #properties-2

[20]: #datasourcetypes

[21]: #properties-3

[22]: #animationdataaccess

[23]: #parameters-6

[24]: #addkeyframe-1

[25]: #parameters-7

[26]: #clearkeyframes

[27]: #shiftto-2

[28]: #parameters-8

[29]: #animation

[30]: #parameters-9

[31]: #refresh

[32]: #parameters-10

[33]: #play

[34]: #pause

[35]: #sendcontrolrequest

[36]: #parameters-11

[37]: #fetchstatus

[38]: ./mai.md

[39]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[40]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[41]: https://momentjs.com/docs/#/durations/

[42]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[43]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[44]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[45]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[46]: #generickeyframedata

[47]: #timeseriesvisualizationdata

[48]: #timeserieskeyframe

[49]: ./AnimationCommon.md#animationdatacontext

[50]: ./AnimationCommon.md#animationstatuscontext

[51]: ./AnimationCommon.md#animationcontrolcontext
