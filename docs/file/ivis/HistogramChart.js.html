<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">ivis/HistogramChart.js | ivis-core</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Just to make my dev environment a little easier to use."><meta property="twitter:card" content="summary"><meta property="twitter:title" content="ivis-core"><meta property="twitter:description" content="Just to make my dev environment a little easier to use."></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/dburian/ivis-core"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/AreaChart.js~AreaChart.html">AreaChart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/BarChart.js~StaticBarChart.html">StaticBarChart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/BubblePlot.js~BubblePlot.html">BubblePlot</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/DataAccess.js~DataAccess.html">DataAccess</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/DataAccess.js~DataAccessSession.html">DataAccessSession</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/DataAccess.js~TimeSeriesPointProvider.html">TimeSeriesPointProvider</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/DataAccess.js~TimeSeriesProvider.html">TimeSeriesProvider</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/DataAccess.js~TimeSeriesSummaryProvider.html">TimeSeriesSummaryProvider</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/DataPathApproximator.js~DataPathApproximator.html">DataPathApproximator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/FrequencyBarChart.js~FrequencyBarChart.html">FrequencyBarChart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/FrequencyDataLoader.js~FrequencyDataLoader.html">FrequencyDataLoader</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/FrequencyPieChart.js~FrequencyPieChart.html">FrequencyPieChart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/HeatmapChart.js~HeatmapChart.html">HeatmapChart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/HistogramChart.js~HistogramChart.html">HistogramChart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/Legend.js~Legend.html">Legend</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/Legend.js~StaticLegend.html">StaticLegend</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/LineChart.js~LineChart.html">LineChart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/LineChartBase.js~LineChartBase.html">LineChartBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/LiveAnimation.js~LiveAnimation.html">LiveAnimation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/MinMaxLoader.js~MinMaxLoader.html">MinMaxLoader</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/OnOffAreaChart.js~OnOffAreaChart.html">OnOffAreaChart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/PanelConfig.js~Configurator.html">Configurator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/PanelConfig.js~PanelConfigAccess.html">PanelConfigAccess</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/PanelConfig.js~PdfExportDialog.html">PdfExportDialog</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/PanelConfig.js~PermanentLinkDialog.html">PermanentLinkDialog</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/PanelConfig.js~SaveDialog.html">SaveDialog</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/PieChart.js~StaticPieChart.html">StaticPieChart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/RecordedAnimation.js~RecordedAnimation.html">RecordedAnimation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/Records.js~Records.html">Records</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/SVG.js~SVG.html">SVG</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/ScatterPlot.js~ScatterPlot.html">ScatterPlot</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/ScatterPlotBase.js~ScatterPlotBase.html">ScatterPlotBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/Selector.js~SignalSelector.html">SignalSelector</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/Selector.js~StaticSignalSelector.html">StaticSignalSelector</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/TimeBasedChartBase.js~TimeBasedChartBase.html">TimeBasedChartBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/TimeContext.js~TimeContext.html">TimeContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/TimeInterval.js~IntervalAbsolute.html">IntervalAbsolute</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/TimeInterval.js~IntervalHistory.html">IntervalHistory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/TimeInterval.js~IntervalSpec.html">IntervalSpec</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/TimeInterval.js~TimeInterval.html">TimeInterval</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/TimeRangeSelector.js~PredefTimeRangeSelector.html">PredefTimeRangeSelector</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/TimeRangeSelector.js~TimeRangeSelector.html">TimeRangeSelector</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/Tooltip.js~Tooltip.html">Tooltip</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-animated">animated</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-forAggs">forAggs</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getAxisIdx">getAxisIdx</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-lineWithPointsOnHover">lineWithPointsOnHover</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-lineWithoutPoints">lineWithoutPoints</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-lineWithoutPointsAndPointsOnNoAggregation">lineWithoutPointsAndPointsOnNoAggregation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-nolineWithPointsAlways">nolineWithPointsAlways</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createBase">createBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isSignalVisible">isSignalVisible</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-intervalAccessMixin">intervalAccessMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-defaultGetMinAggregationInterval">defaultGetMinAggregationInterval</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-ModifyColorCopy">ModifyColorCopy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-WheelDelta">WheelDelta</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-brushHandlesLeftRight">brushHandlesLeftRight</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-brushHandlesTopBottom">brushHandlesTopBottom</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-distance">distance</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-extentWithMargin">extentWithMargin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getColorScale">getColorScale</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getExtent">getExtent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isInExtent">isInExtent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isSignalVisible">isSignalVisible</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-roundTo">roundTo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setZoomTransform">setZoomTransform</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-transitionInterpolate">transitionInterpolate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-fileUrl">fileUrl</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-AnimationControlContext">AnimationControlContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-AnimationDataContext">AnimationDataContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-AnimationStatusContext">AnimationStatusContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-withAnimationControl">withAnimationControl</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-withAnimationData">withAnimationData</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-withAnimationStatus">withAnimationStatus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TimeSeriesPointPredefs">TimeSeriesPointPredefs</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TimeSeriesPointType">TimeSeriesPointType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-dataAccess">dataAccess</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PointsVisibility">PointsVisibility</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-pointsOnNoAggregation">pointsOnNoAggregation</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PanelConfigOwnerContext">PanelConfigOwnerContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-panelConfigAccessMixin">panelConfigAccessMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-panelConfigMixin">panelConfigMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-withPanelConfig">withPanelConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-panelMenuMixin">panelMenuMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LegendPosition">LegendPosition</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ConfigDifference">ConfigDifference</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RenderStatus">RenderStatus</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TimeIntervalsContext">TimeIntervalsContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ZoomEventSources">ZoomEventSources</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-dotShapeNames">dotShapeNames</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-dotShapes">dotShapes</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#attic">attic</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/attic/BarChart.js~BarChart.html">BarChart</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/attic/BarNavigator.js~LineNavigator.html">LineNavigator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ivis/attic/LineNavigator.js~BarNavigator.html">BarNavigator</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">ivis/HistogramChart.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">&apos;use strict&apos;;

import React, {Component} from &quot;react&quot;;
import * as d3Axis from &quot;d3-axis&quot;;
import * as d3Scale from &quot;d3-scale&quot;;
import * as d3Format from &quot;d3-format&quot;;
import * as d3Selection from &quot;d3-selection&quot;;
import {event as d3Event, select} from &quot;d3-selection&quot;;
import * as d3Array from &quot;d3-array&quot;;
import * as d3Zoom from &quot;d3-zoom&quot;;
import * as d3Brush from &quot;d3-brush&quot;;
import * as d3Color from &quot;d3-color&quot;;
import {intervalAccessMixin} from &quot;./TimeContext&quot;;
import {DataAccessSession} from &quot;./DataAccess&quot;;
import {withAsyncErrorHandler, withErrorHandling} from &quot;../lib/error-handling&quot;;
import PropTypes from &quot;prop-types&quot;;
import {withComponentMixins} from &quot;../lib/decorator-helpers&quot;;
import {withTranslation} from &quot;../lib/i18n&quot;;
import {Tooltip} from &quot;./Tooltip&quot;;
import {Icon} from &quot;../lib/bootstrap-components&quot;;
import styles from &quot;./CorrelationCharts.scss&quot;;
import {brushHandlesLeftRight, isInExtent, transitionInterpolate, WheelDelta, ZoomEventSources} from &quot;./common&quot;;
import {PropType_d3Color_Required, PropType_NumberInRange} from &quot;../lib/CustomPropTypes&quot;;

const ConfigDifference = {
    NONE: 0,
    RENDER: 1,
    DATA: 2,
    DATA_WITH_CLEAR: 3
};

function compareConfigs(conf1, conf2) {
    let diffResult = ConfigDifference.NONE;

    if (conf1.sigSetCid !== conf2.sigSetCid || conf1.sigCid !== conf2.sigCid || conf1.tsSigCid !== conf2.tsSigCid) {
        diffResult = ConfigDifference.DATA_WITH_CLEAR;
    } else if (conf1.color !== conf2.color) {
        diffResult = ConfigDifference.RENDER;
    }

    return diffResult;
}

class TooltipContent extends Component {
    constructor(props) {
        super(props);
    }

    static propTypes = {
        config: PropTypes.object.isRequired,
        signalSetsData: PropTypes.object,
        selection: PropTypes.object
    };

    render() {
        if (this.props.selection) {
            const step = this.props.signalSetsData.step;
            const bucket = this.props.selection;

            const keyF = d3Format.format(&quot;.&quot; + d3Format.precisionFixed(step) + &quot;f&quot;);
            const probF = d3Format.format(&quot;.2f&quot;);

            return (
                &lt;div&gt;
                    &lt;div&gt;Range: &lt;Icon icon=&quot;chevron-left&quot;/&gt;{keyF(bucket.key)} &lt;Icon icon=&quot;ellipsis-h&quot;/&gt; {keyF(bucket.key + step)}&lt;Icon icon=&quot;chevron-right&quot;/&gt;&lt;/div&gt;
                    &lt;div&gt;Count: {bucket.count}&lt;/div&gt;
                    &lt;div&gt;Frequency: {probF(bucket.prob * 100)}%&lt;/div&gt;
                &lt;/div&gt;
            );

        } else {
            return null;
        }
    }
}

@withComponentMixins([
    withTranslation,
    withErrorHandling,
    intervalAccessMixin()
], [&quot;getView&quot;, &quot;setView&quot;])
export class HistogramChart extends Component {
    constructor(props){
        super(props);

        const t = props.t;

        this.dataAccessSession = new DataAccessSession();
        this.state = {
            signalSetData: null,
            globalSignalSetData: null,
            statusMsg: t(&apos;Loading...&apos;),
            width: 0,
            maxBucketCount: 0,
            zoomTransform: d3Zoom.zoomIdentity
        };

        this.zoom = null;
        this.brush = null;
        this.lastZoomCausedByUser = false;

        this.resizeListener = () =&gt; {
            this.createChart(true);
        };
    }

    static propTypes = {
        config: PropTypes.shape({
            sigSetCid: PropTypes.string.isRequired,
            sigCid: PropTypes.string.isRequired,
            color: PropType_d3Color_Required(),
            tsSigCid: PropTypes.string
        }).isRequired,
        height: PropTypes.number.isRequired,
        margin: PropTypes.object,
        overviewHeight: PropTypes.number,
        overviewMargin: PropTypes.object,

        withCursor: PropTypes.bool,
        withTooltip: PropTypes.bool,
        withOverview: PropTypes.bool,
        withTransition: PropTypes.bool,
        withZoom: PropTypes.bool,

        xAxisTicksCount: PropTypes.number,
        xAxisTicksFormat: PropTypes.func,
        xAxisLabel: PropTypes.string,

        minStep: PropTypes.number,
        minBarWidth: PropTypes.number,
        maxBucketCount: PropTypes.number,
        topPaddingWhenZoomed: PropType_NumberInRange(0, 1), // determines whether bars will be stretched up when zooming
        xMinValue: PropTypes.number,
        xMaxValue: PropTypes.number,
        viewChangeCallback: PropTypes.func,

        zoomLevelMin: PropTypes.number,
        zoomLevelMax: PropTypes.number,

        className: PropTypes.string,
        style: PropTypes.object
    };

    static defaultProps = {
        margin: { left: 40, right: 5, top: 5, bottom: 20 },
        minBarWidth: 20,
        maxBucketCount: undefined,
        xMinValue: NaN,
        xMaxValue: NaN,
        topPaddingWhenZoomed: 0,

        withCursor: true,
        withTooltip: true,
        withOverview: true,
        withTransition: true,
        withZoom: true,

        zoomLevelMin: 1,
        zoomLevelMax: 4,

        overviewHeight: 100,
        overviewMargin: { top: 20, bottom: 20 }
    };

    componentDidMount() {
        window.addEventListener(&apos;resize&apos;, this.resizeListener);
        this.createChart(false, false);
    }

    /** Update and redraw the chart based on changes in React props and state */
    componentDidUpdate(prevProps, prevState) {
        const t = this.props.t;

        let configDiff = compareConfigs(this.props.config, prevProps.config);

        // test if time interval changed
        const considerTs = !!this.props.config.tsSigCid;
        if (considerTs) {
            const prevAbs = this.getIntervalAbsolute(prevProps);
            const prevSpec = this.getIntervalSpec(prevProps);

            if (prevSpec !== this.getIntervalSpec()) {
                configDiff = Math.max(configDiff, ConfigDifference.DATA_WITH_CLEAR);
            } else if (prevAbs !== this.getIntervalAbsolute()) { // If its just a regular refresh, don&apos;t clear the chart
                configDiff = Math.max(configDiff, ConfigDifference.DATA);
            }
        }

        // test if limits changed
        if (!Object.is(prevProps.xMinValue, this.props.xMinValue) || !Object.is(prevProps.xMaxValue, this.props.xMaxValue))
            configDiff = Math.max(configDiff, ConfigDifference.DATA_WITH_CLEAR);

        if (prevState.maxBucketCount !== this.state.maxBucketCount) {
            configDiff = Math.max(configDiff, ConfigDifference.DATA);
        }

        if (configDiff === ConfigDifference.DATA_WITH_CLEAR) {
            this.setZoom(d3Zoom.zoomIdentity); // reset zoom
            this.setState({
                statusMsg: t(&apos;Loading...&apos;)
            }, () =&gt; {
                // noinspection JSIgnoredPromiseFromCall
                this.fetchData();
            });
        }
        else if (configDiff === ConfigDifference.DATA) {
            // noinspection JSIgnoredPromiseFromCall
            this.fetchData();
        }
        else {
             const forceRefresh = this.prevContainerNode !== this.containerNode
                || prevState.signalSetData !== this.state.signalSetData
                || configDiff !== ConfigDifference.NONE;

            const updateZoom = !Object.is(prevState.zoomTransform, this.state.zoomTransform);

            this.createChart(forceRefresh, updateZoom);
            this.prevContainerNode = this.containerNode;
            if (updateZoom)
                this.callViewChangeCallback();
        }
    }

    componentWillUnmount() {
        window.removeEventListener(&apos;resize&apos;, this.resizeListener);
    }

    /** Fetches new data for the chart, processes the results using this.processData method and updates the state accordingly, so the chart is redrawn */
    @withAsyncErrorHandler
    async fetchData() {
        const config = this.props.config;

        let maxBucketCount = this.props.maxBucketCount || this.state.maxBucketCount;
        let minStep = this.props.minStep;
        if (maxBucketCount &gt; 0) {
            try {
                let filter = {
                    type: &apos;and&apos;,
                        children: []
                };
                let isZoomedIn = false;
                if (config.tsSigCid) {
                    const abs = this.getIntervalAbsolute();
                    filter.children.push({
                        type: &apos;range&apos;,
                        sigCid: config.tsSigCid,
                        gte: abs.from.toISOString(),
                        lt: abs.to.toISOString()
                    });
                }
                if (!isNaN(this.props.xMinValue))
                    filter.children.push({
                        type: &quot;range&quot;,
                        sigCid: config.sigCid,
                        gte: this.props.xMinValue
                    });
                if (!isNaN(this.props.xMaxValue))
                    filter.children.push({
                        type: &quot;range&quot;,
                        sigCid: config.sigCid,
                        lte: this.props.xMaxValue
                    });

                // filter by current zoom
                if (!Object.is(this.state.zoomTransform, d3Zoom.zoomIdentity)) {
                    const scale = this.state.zoomTransform.k;
                    if (minStep !== undefined)
                        minStep = Math.floor(minStep / scale);
                    maxBucketCount = Math.ceil(maxBucketCount * scale);
                    isZoomedIn = true;
                }

                const results = await this.dataAccessSession.getLatestHistogram(config.sigSetCid, [config.sigCid], maxBucketCount, minStep, filter);

                if (results) { // Results is null if the results returned are not the latest ones
                    const processedResults = this.processData(results);
                    if (processedResults.buckets.length === 0) {
                        this.setState({
                            signalSetData: null,
                            statusMsg: &quot;No data.&quot;
                        });
                        this.brush = null;
                        this.zoom = null;
                        return;
                    }
                    if (isNaN(processedResults.step)) { // not a numeric signal
                        this.setState({
                            signalSetData: null,
                            statusMsg: &quot;Histogram not available for this type of signal.&quot;
                        });
                        return;
                    }

                    if (!isZoomedIn) { // zoomed completely out
                        // update extent of x axis
                        this.xExtent = [processedResults.min, processedResults.max];
                        if (!isNaN(this.props.xMinValue)) this.xExtent[0] = this.props.xMinValue;
                        if (!isNaN(this.props.xMaxValue)) this.xExtent[1] = this.props.xMaxValue;
                    }

                    const newState = {
                        signalSetData: processedResults,
                        statusMsg: &quot;&quot;
                    };
                    if (!isZoomedIn)
                        newState.globalSignalSetData = processedResults;

                    this.setState(newState, () =&gt; {
                        if (!isZoomedIn)
                            // call callViewChangeCallback when data new data without range filter are loaded as the xExtent might got updated (even though this.state.zoomTransform is the same)
                            this.callViewChangeCallback();
                    });
                }
            } catch (err) {
                throw err;
            }
        }
    }

    processData(data) {
        if (data.buckets.length === 0)
            return {
                buckets: data.buckets,
                step: data.step,
                offset: data.offset,
                min: NaN,
                max: NaN,
                maxProb: 0
            };

        const min = data.buckets[0].key;
        const max = data.buckets[data.buckets.length - 1].key + data.step;

        let maxCount = 0;
        let totalCount = 0;
        for (const bucket of data.buckets) {
            if (bucket.count &gt; maxCount)
                maxCount = bucket.count;
            totalCount += bucket.count;
        }

        for (const bucket of data.buckets) {
            bucket.prob = bucket.count / totalCount;
        }
        const maxProb = maxCount / totalCount;

        return {
            buckets: data.buckets,
            step: data.step,
            offset: data.offset,
            min,
            max,
            maxProb
        };
    }

    /** Creates (or updates) the chart with current data.
     * This method is called from componentDidUpdate automatically when state or config is updated.
     * All the &apos;createChart*&apos; methods are called from here. */
    createChart(forceRefresh, updateZoom) {
        /** @description last data loaded by fetchData */
        const signalSetData = this.state.signalSetData;
        /** @description data loaded when chart was completely zoomed out - displayed by overview */
        const globalSignalSetData = this.state.globalSignalSetData;

        const width = this.containerNode.getClientRects()[0].width;

        if (this.state.width !== width) {
            const maxBucketCount = Math.ceil(width / this.props.minBarWidth);

            this.setState({
                width,
                maxBucketCount
            });
        }

        const widthChanged = width !== this.renderedWidth;
        if (!forceRefresh &amp;&amp; !widthChanged &amp;&amp; !updateZoom) {
            return;
        }
        this.renderedWidth = width;

        if (!signalSetData || !globalSignalSetData) {
            return;
        }

        //&lt;editor-fold desc=&quot;Scales&quot;&gt;
        const ySize = this.props.height - this.props.margin.top - this.props.margin.bottom;
        const xSize = this.renderedWidth - this.props.margin.left - this.props.margin.right;

        let xScale = d3Scale.scaleLinear()
            .domain(this.xExtent)
            .range([0, width - this.props.margin.left - this.props.margin.right]);
        xScale = this.state.zoomTransform.rescaleX(xScale);
        this.xScale = xScale;
        const xAxis = d3Axis.axisBottom(xScale)
            .tickSizeOuter(0);
        if (this.props.xAxisTicksCount) xAxis.ticks(this.props.xAxisTicksCount);
        if (this.props.xAxisTicksFormat) xAxis.tickFormat(this.props.xAxisTicksFormat);
        this.xAxisSelection.call(xAxis);
        this.xAxisLabelSelection.text(this.props.xAxisLabel).style(&quot;text-anchor&quot;, &quot;middle&quot;);

        let maxProb = signalSetData.maxProb;
        let maxProbInZoom;
        const [xDomainMin, xDomainMax] = xScale.domain();
        if (this.state.zoomTransform.k &gt; 1 &amp;&amp; this.props.topPaddingWhenZoomed !== 1) {
            maxProbInZoom = d3Array.max(signalSetData.buckets, b =&gt; {
                if (b.key + signalSetData.step &gt;= xDomainMin &amp;&amp;
                    b.key &lt;= xDomainMax)
                    return b.prob;
            });
        }
        if (maxProbInZoom !== undefined &amp;&amp; maxProbInZoom !== 0) {
            if (maxProbInZoom / maxProb &lt; 1 - this.props.topPaddingWhenZoomed)
                maxProb = maxProbInZoom / (1 - this.props.topPaddingWhenZoomed);
        }

        const yScale = d3Scale.scaleLinear()
            .domain([0, maxProb])
            .range([ySize, 0]);
        const yAxis = d3Axis.axisLeft(yScale)
            .tickFormat(yScale.tickFormat(10, &quot;-%&quot;));
        (this.props.withTransition ? this.yAxisSelection.transition() : this.yAxisSelection)
            .call(yAxis);
        //&lt;/editor-fold&gt;

        this.drawBars(signalSetData, this.barsSelection, xScale, yScale, d3Color.color(this.props.config.color), false);

        // we don&apos;t want to change zoom object and cursor area when updating only zoom (it breaks touch drag)
        if (forceRefresh || widthChanged) {
            this.createChartCursorArea();
            if (this.props.withZoom)
                this.createChartZoom(xSize, ySize);
        }

        this.createChartCursor(signalSetData, xScale, yScale, ySize);

        if (this.props.withOverview)
            this.createChartOverview(globalSignalSetData);
    }

    // noinspection JSCommentMatchesSignature
    /**
     * @param data                  data in format as produces by this.processData
     * @param selection             d3 selection to which the data will get assigned and drawn
     * @param disableTransitions    animations when bars are created or modified
     */
    drawBars(data, selection, xScale, yScale, barColor, disableTransitions = true) {
        const step = data.step;
        const barWidth = xScale(step) - xScale(0) - 1;
        const ySize = yScale.range()[0];

        const bars = selection
            .selectAll(&apos;rect&apos;)
            .data(data.buckets, d =&gt; d.key);

        const allBars = bars.enter()
            .append(&apos;rect&apos;)
            .attr(&apos;y&apos;, yScale.range()[0])
            .attr(&quot;height&quot;, 0)
            .merge(bars);

        allBars.attr(&apos;x&apos;, d =&gt; xScale(d.key))
            .attr(&quot;width&quot;, barWidth)
            .attr(&quot;fill&quot;, barColor);
        (disableTransitions || !this.props.withTransition ?  allBars : allBars.transition())
            .attr(&apos;y&apos;, d =&gt; yScale(d.prob))
            .attr(&quot;height&quot;, d =&gt; ySize - yScale(d.prob));

        bars.exit()
            .remove();
    }

    /** Prepares rectangle for cursor movement events.
     *  Called from this.createChart(). */
    createChartCursorArea() {
        this.cursorAreaSelection
            .selectAll(&apos;rect&apos;)
            .remove();

        this.cursorAreaSelection
            .append(&apos;rect&apos;)
            .attr(&apos;pointer-events&apos;, &apos;all&apos;)
            .attr(&apos;cursor&apos;, &apos;crosshair&apos;)
            .attr(&apos;x&apos;, 0)
            .attr(&apos;y&apos;, 0)
            .attr(&apos;width&apos;, this.renderedWidth - this.props.margin.left - this.props.margin.right)
            .attr(&apos;height&apos;, this.props.height - this.props.margin.top - this.props.margin.bottom)
            .attr(&apos;visibility&apos;, &apos;hidden&apos;);
    }

    /** Handles mouse movement to select the closest bar (for displaying its details in Tooltip, etc.).
     *  Called from this.createChart(). */
    createChartCursor(signalSetData, xScale, yScale) {
        const self = this;
        const highlightBarColor = d3Color.color(this.props.config.color).darker();

        this.barsHighlightSelection
            .selectAll(&apos;rect&apos;)
            .remove();

        let selection, mousePosition;

        const selectPoints = function () {
            if (self.state.zoomInProgress)
                return;

            const containerPos = d3Selection.mouse(self.containerNode);
            const x = containerPos[0] - self.props.margin.left;

            const key = xScale.invert(x);
            let newSelection = null;
            if (isInExtent(key, [self.state.signalSetData.min, self.state.signalSetData.max])) {
                for (const bucket of signalSetData.buckets) {
                    if (bucket.key &lt;= key) {
                        newSelection = bucket;
                    } else {
                        break;
                    }
                }
            }
            else {
                self.deselectPoints();
            }

            if (selection !== newSelection &amp;&amp; newSelection !== null &amp;&amp; (self.props.withCursor || self.props.withTooltip)) {
                self.drawBars({
                    buckets: [newSelection],
                    step: signalSetData.step
                }, self.barsHighlightSelection, xScale, yScale, highlightBarColor)
            }

            self.cursorSelection
                .attr(&apos;y1&apos;, self.props.margin.top)
                .attr(&apos;y2&apos;, self.props.height - self.props.margin.bottom)
                .attr(&apos;x1&apos;, containerPos[0])
                .attr(&apos;x2&apos;, containerPos[0])
                .attr(&apos;visibility&apos;, self.props.withCursor ? &apos;visible&apos; : &quot;hidden&quot;);

            selection = newSelection;
            mousePosition = {x: containerPos[0], y: containerPos[1]};

            self.setState({
                selection,
                mousePosition
            });
        };

        this.cursorAreaSelection
            .on(&apos;mouseenter&apos;, selectPoints)
            .on(&apos;mousemove&apos;, selectPoints)
            .on(&apos;mouseleave&apos;, ::this.deselectPoints);
    }

    deselectPoints() {
        this.cursorSelection.attr(&apos;visibility&apos;, &apos;hidden&apos;);

        this.barsHighlightSelection
            .selectAll(&apos;rect&apos;)
            .remove();

        this.setState({
            selection: null,
            mousePosition: null
        });
    }

    /** Handles zoom of the chart by user using d3-zoom.
     *  Called from this.createChart(). */
    createChartZoom(xSize, ySize) {
        // noinspection DuplicatedCode
        const self = this;

        const handleZoom = function () {
            // noinspection JSUnresolvedVariable
            if (self.props.withTransition &amp;&amp; d3Event.sourceEvent &amp;&amp; d3Event.sourceEvent.type === &quot;wheel&quot;) {
                self.lastZoomCausedByUser = true;
                transitionInterpolate(select(self), self.state.zoomTransform, d3Event.transform, setZoomTransform, () =&gt; {
                    self.deselectPoints();
                });
            } else {
                // noinspection JSUnresolvedVariable
                if (d3Event.sourceEvent &amp;&amp; ZoomEventSources.includes(d3Event.sourceEvent.type))
                    self.lastZoomCausedByUser = true;
                // noinspection JSUnresolvedVariable
                setZoomTransform(d3Event.transform);
            }
        };

        const setZoomTransform = function (transform) {
            self.setState({
                zoomTransform: transform
            });
            self.moveBrush(transform);
        };

        const handleZoomEnd = function () {
            self.deselectPoints();
            self.setState({
                zoomInProgress: false
            });
        };
        const handleZoomStart = function () {
            self.setState({
                zoomInProgress: true
            });
        };

        const zoomExtent = [[0,0], [xSize, ySize]];
        const zoomExisted = this.zoom !== null;
        this.zoom = zoomExisted ? this.zoom : d3Zoom.zoom();
        this.zoom
            .scaleExtent([this.props.zoomLevelMin, this.props.zoomLevelMax])
            .translateExtent(zoomExtent)
            .extent(zoomExtent)
            .on(&quot;zoom&quot;, handleZoom)
            .on(&quot;end&quot;, handleZoomEnd)
            .on(&quot;start&quot;, handleZoomStart)
            .wheelDelta(WheelDelta(2));
        this.svgContainerSelection.call(this.zoom);
        this.moveBrush(this.state.zoomTransform);
    }

    /** Returns the current view (boundaries of visible region)
     * @return {{xMin: number, xMax: number }} left, right boundary
     */
    getView() {
        const [xMin, xMax] = this.xScale.domain();
        return {xMin, xMax};
    }

    /**
     * Set the visible region of the chart to defined limits (in units of the data, not in pixels)
     * @param xMin          left boundary of the visible region (in units of data on x-axis)
     * @param xMax          right boundary of the visible region (in units of data on x-axis)
     * @param source        the element which caused the view change (if source === this, the update is ignored)
     * @param causedByUser  tells whether the view update was caused by user (this propagates to props.viewChangeCallback call), default = false
     */
    setView(xMin, xMax, source, causedByUser = false) {
        if (source === this || this.state.signalSetData === null)
            return;

        if (xMin === undefined) xMin = this.xScale.domain()[0];
        if (xMax === undefined) xMax = this.xScale.domain()[1];

        if (isNaN(xMin) || isNaN(xMax))
            throw new Error(&quot;Parameters must be numbers.&quot;);

        this.lastZoomCausedByUser = causedByUser;
        // noinspection JSUnresolvedVariable
        this.setZoomToLimits(xMin, xMax);
    }

    /** Sets zoom object (transform) to desired view boundaries. */
    setZoomToLimits(xMin, xMax) {
        if (this.brush) {
            this.overviewBrushSelection.call(this.brush.move, [this.overviewXScale(xMin), this.overviewXScale(xMax)]);
            // brush will also adjust zoom if sourceEvent is not &quot;zoom&quot; caused by this.zoom which is true when this method is called from this.setView
        }
        else {
            const newXSize = xMax - xMin;
            const oldXSize = this.xScale.domain()[1] - this.xScale.domain()[0];

            const leftInverted = this.state.zoomTransform.invertX(this.xScale(xMin));
            const transform = d3Zoom.zoomIdentity.scale(this.state.zoomTransform.k * oldXSize / newXSize).translate(-leftInverted, 0);

            this.setZoom(transform);
        }
    }

    /** Helper method to update zoom transform in state and zoom object. */
    setZoom(transform) {
        if (this.zoom)
            this.svgContainerSelection.call(this.zoom.transform, transform);
        else {
            this.setState({zoomTransform: transform});
            this.moveBrush(transform);
        }
    }

    /** Updates overview brushes from zoom transform. */
    moveBrush(transform) {
        if (this.brush)
            this.overviewBrushSelection.call(this.brush.move, this.defaultBrush.map(transform.invertX, transform));
    };

    callViewChangeCallback() {
        if (typeof(this.props.viewChangeCallback) !== &quot;function&quot;)
            return;

        this.props.viewChangeCallback(this, this.getView(), this.lastZoomCausedByUser);
    }

    /** Creates additional histogram below the main one without zoom to enable zoom navigation by d3-brush
     *  Called from this.createChart(). */
    createChartOverview(signalSetData) {
        //&lt;editor-fold desc=&quot;Scales&quot;&gt;
        const ySize = this.props.overviewHeight - this.props.overviewMargin.top - this.props.overviewMargin.bottom;

        const yScale = d3Scale.scaleLinear()
            .domain([0, signalSetData.maxProb])
            .range([ySize, 0]);

        let xScale = d3Scale.scaleLinear()
            .domain(this.xExtent)
            .range([0, this.renderedWidth - this.props.margin.left - this.props.margin.right]);
        this.overviewXScale = xScale;
        const xAxis = d3Axis.axisBottom(xScale)
            .tickSizeOuter(0);
        if (this.props.xAxisTicksCount) xAxis.ticks(this.props.xAxisTicksCount);
        if (this.props.xAxisTicksFormat) xAxis.tickFormat(this.props.xAxisTicksFormat);
        this.overviewXAxisSelection.call(xAxis);
        //&lt;/editor-fold&gt;

        this.drawBars(signalSetData, this.overviewBarsSelection, xScale, yScale, d3Color.color(this.props.config.color));

        this.createChartOverviewBrush();
    }

    /** Creates d3-brush for overview.
     *  Called from this.createChart(). */
    createChartOverviewBrush() {
        const self = this;

        const xSize = this.renderedWidth - this.props.margin.left - this.props.margin.right;
        const ySize = this.props.overviewHeight - this.props.overviewMargin.top - this.props.overviewMargin.bottom;
        this.defaultBrush = [0, xSize];
        const brushExisted = this.brush !== null;
        this.brush = brushExisted ? this.brush :d3Brush.brushX();
        this.brush
            .extent([[0, 0], [xSize, ySize]])
            .handleSize(20)
            .on(&quot;brush&quot;, function () {
                // noinspection JSUnresolvedVariable
                const sel = d3Event.selection;
                self.overviewBrushSelection.call(brushHandlesLeftRight, sel, ySize);

                // noinspection JSUnresolvedVariable
                if (d3Event.sourceEvent &amp;&amp; d3Event.sourceEvent.type === &quot;zoom&quot; &amp;&amp; d3Event.sourceEvent.target === self.zoom) return; // ignore brush-by-zoom
                // noinspection JSUnresolvedVariable
                if (d3Event.sourceEvent &amp;&amp; d3Event.sourceEvent.type === &quot;brush&quot; &amp;&amp; d3Event.sourceEvent.target === self.brush) return; // ignore brush by itself

                // noinspection JSUnresolvedVariable
                if (d3Event.sourceEvent &amp;&amp; ZoomEventSources.includes(d3Event.sourceEvent.type))
                    self.lastZoomCausedByUser = true;

                const newTransform = d3Zoom.zoomIdentity.scale(xSize / (sel[1] - sel[0])).translate(-sel[0], 0);
                self.setZoom(newTransform);
            });

        this.overviewBrushSelection
            .attr(&apos;pointer-events&apos;, &apos;all&apos;)
            .call(this.brush);
        if (!brushExisted)
            this.overviewBrushSelection.call(this.brush.move, this.defaultBrush);
        this.overviewBrushSelection.select(&quot;.selection&quot;)
            .classed(styles.selection, true);
        this.overviewBrushSelection.select(&quot;.overlay&quot;)
            .attr(&apos;pointer-events&apos;, &apos;none&apos;);
    }

    render() {
        if (!this.state.signalSetData) {
            return (
                &lt;svg ref={node =&gt; this.containerNode = node} height={this.props.height} width=&quot;100%&quot;
                     className={this.props.className} style={this.props.style} &gt;
                    &lt;text textAnchor=&quot;middle&quot; x=&quot;50%&quot; y=&quot;50%&quot; fontFamily=&quot;&apos;Open Sans&apos;,&apos;Helvetica Neue&apos;,Helvetica,Arial,sans-serif&quot; fontSize=&quot;14px&quot;&gt;
                        {this.state.statusMsg}
                    &lt;/text&gt;
                &lt;/svg&gt;
            );

        } else {

            return (
                &lt;div className={this.props.className} style={this.props.style} &gt;
                    &lt;div ref={node =&gt; this.svgContainerSelection = select(node)} className={styles.touchActionPanY}&gt;
                    &lt;svg id=&quot;cnt&quot; ref={node =&gt; this.containerNode = node} height={this.props.height} width=&quot;100%&quot;&gt;
                        &lt;defs&gt;
                            &lt;clipPath id=&quot;plotRect&quot;&gt;
                                &lt;rect x=&quot;0&quot; y=&quot;0&quot; width={this.state.width - this.props.margin.left - this.props.margin.right} height={this.props.height - this.props.margin.top - this.props.margin.bottom} /&gt;
                            &lt;/clipPath&gt;
                        &lt;/defs&gt;
                        &lt;g transform={`translate(${this.props.margin.left}, ${this.props.margin.top})`} clipPath=&quot;url(#plotRect)&quot; &gt;
                            &lt;g ref={node =&gt; this.barsSelection = select(node)}/&gt;
                            &lt;g ref={node =&gt; this.barsHighlightSelection = select(node)}/&gt;
                        &lt;/g&gt;

                        {/* axes */}
                        &lt;g ref={node =&gt; this.xAxisSelection = select(node)} transform={`translate(${this.props.margin.left}, ${this.props.height - this.props.margin.bottom})`}/&gt;
                        &lt;text ref={node =&gt; this.xAxisLabelSelection = select(node)}
                              transform={`translate(${this.props.margin.left + (this.state.width - this.props.margin.left - this.props.margin.right) / 2}, ${this.props.height - 5})`} /&gt;
                        &lt;g ref={node =&gt; this.yAxisSelection = select(node)} transform={`translate(${this.props.margin.left}, ${this.props.margin.top})`}/&gt;

                        {!this.state.zoomInProgress &amp;&amp;
                        &lt;line ref={node =&gt; this.cursorSelection = select(node)} strokeWidth=&quot;1&quot; stroke=&quot;rgb(50,50,50)&quot; visibility=&quot;hidden&quot;/&gt;}
                        &lt;text textAnchor=&quot;middle&quot; x=&quot;50%&quot; y=&quot;50%&quot; fontFamily=&quot;&apos;Open Sans&apos;,&apos;Helvetica Neue&apos;,Helvetica,Arial,sans-serif&quot; fontSize=&quot;14px&quot;&gt;
                            {this.state.statusMsg}
                        &lt;/text&gt;
                        {this.props.withTooltip &amp;&amp; !this.state.zoomInProgress &amp;&amp;
                        &lt;Tooltip
                            config={this.props.config}
                            signalSetsData={this.state.signalSetData}
                            containerHeight={this.props.height}
                            containerWidth={this.state.width}
                            mousePosition={this.state.mousePosition}
                            selection={this.state.selection}
                            contentRender={props =&gt; &lt;TooltipContent {...props}/&gt;}
                        /&gt;
                        }
                        &lt;g ref={node =&gt; this.cursorAreaSelection = select(node)} transform={`translate(${this.props.margin.left}, ${this.props.margin.top})`}/&gt;
                    &lt;/svg&gt;
                    &lt;/div&gt;
                    {this.props.withOverview &amp;&amp;
                    &lt;svg id=&quot;overview&quot; height={this.props.overviewHeight}
                         width=&quot;100%&quot;&gt;
                        &lt;g transform={`translate(${this.props.margin.left}, ${this.props.overviewMargin.top})`}&gt;
                            &lt;g ref={node =&gt; this.overviewBarsSelection = select(node)}/&gt;
                        &lt;/g&gt;
                        &lt;g ref={node =&gt; this.overviewXAxisSelection = select(node)}
                           transform={`translate(${this.props.margin.left}, ${this.props.overviewHeight - this.props.overviewMargin.bottom})`}/&gt;
                        &lt;g ref={node =&gt; this.overviewBrushSelection = select(node)}
                           transform={`translate(${this.props.margin.left}, ${this.props.overviewMargin.top})`}
                           className={styles.brush}/&gt;
                    &lt;/svg&gt;}
                &lt;/div&gt;

            );
        }
    }
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
